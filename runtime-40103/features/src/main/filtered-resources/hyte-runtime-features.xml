<?xml version="1.0" encoding="UTF-8"?>
<features name="hyte-runtime-${project.version}" xmlns="http://karaf.apache.org/xmlns/features/v1.3.0" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://karaf.apache.org/xmlns/features/v1.3.0 http://karaf.apache.org/xmlns/features/v1.3.0">
	
	<feature name="hyte-activemq-client" version="${hyte.activemq.version}">
		<feature>spring</feature>
		<bundle start-level="10">mvn:org.apache.geronimo.specs/geronimo-jta_1.1_spec/1.1.1</bundle>
		<bundle start-level="30">mvn:org.apache.geronimo.specs/geronimo-annotation_1.0_spec/1.1.1</bundle>
		<bundle start-level="30">mvn:org.apache.geronimo.specs/geronimo-j2ee-management_1.1_spec/1.0.1</bundle>
		<bundle start-level="30">mvn:javax.jms/javax.jms-api/2.0.1</bundle>
		<bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.jaxb-impl/2.2.11_1</bundle>
		<bundle>mvn:org.apache.commons/commons-pool2/2.4.2</bundle>
		<bundle>mvn:commons-net/commons-net/3.6</bundle>
		<bundle>mvn:org.apache.activemq/activemq-osgi/${hyte.activemq.version}</bundle>	
		<capability>
            activemq-client;provider:=hyte
        </capability>
	</feature>

	<feature name="hyte-activemq-camel" version="${hyte.activemq.version}">
		<feature dependency="true" prerequisite="true">wrap</feature>
		<feature>hyte-activemq-client</feature>
		<feature version="[2.18,3)">camel</feature>
		<feature version="[2.18,3)">hyte-camel-jms</feature>
		<feature version="[2.18,3)">camel-spring</feature>
		<feature version="[2.18,3)">camel-blueprint</feature>
		<bundle>wrap:mvn:org.apache.activemq/activemq-camel/${hyte.activemq.version}$overwrite=merge&amp;Import-Package=javax.jms;version=&quot;[1.1,3)&quot;,*</bundle>
		<capability>
            activemq-camel;provider:=hyte
        </capability>
	</feature>

	<feature name="hyte-spring-jms" version="${hyte.spring.version}">
		<feature version="${hyte.spring.version}">spring-tx</feature> 
		<bundle start-level="10">mvn:org.apache.geronimo.specs/geronimo-jta_1.1_spec/1.1.1</bundle>
  		<bundle start-level="30">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.spring-jms/${hyte.spring.version}</bundle>
  		<capability>
            spring-jms;provider:=hyte
        </capability>
	</feature>
	
	<feature name="hyte-camel-jms" version="${hyte.camel.version}">
		<feature version="${hyte.camel.version}">camel-core</feature>
		<feature version="${hyte.spring.version}">spring</feature>
		<feature version="${hyte.spring.version}">hyte-spring-jms</feature>
		<bundle start-level="10">mvn:org.apache.geronimo.specs/geronimo-jta_1.1_spec/1.1.1</bundle>
		<bundle>mvn:commons-pool/commons-pool/1.6</bundle>
		<bundle>mvn:org.apache.camel/camel-jms/${hyte.camel.version}</bundle>
		<capability>
            camel-jms;provider:=hyte
        </capability>
	</feature>
</features>
